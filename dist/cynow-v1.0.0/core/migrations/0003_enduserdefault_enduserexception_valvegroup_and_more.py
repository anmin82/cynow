# Generated by Django 5.2.9 on 2025-12-15 11:54

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('core', '0002_alter_translation_field_type_enduserpolicy_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='EndUserDefault',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('gas_name', models.CharField(max_length=100, verbose_name='가스명')),
                ('capacity', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='용량')),
                ('valve_spec_code', models.CharField(blank=True, max_length=50, null=True, verbose_name='밸브 스펙 코드')),
                ('cylinder_spec_code', models.CharField(blank=True, max_length=50, null=True, verbose_name='용기 스펙 코드')),
                ('default_enduser', models.CharField(default='SDC', max_length=50, verbose_name='기본 EndUser')),
                ('is_active', models.BooleanField(default=True, verbose_name='활성화')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='생성일시')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='수정일시')),
            ],
            options={
                'verbose_name': 'EndUser 기본값',
                'verbose_name_plural': 'EndUser 기본값',
            },
        ),
        migrations.CreateModel(
            name='EndUserException',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cylinder_no', models.CharField(max_length=20, unique=True, verbose_name='용기번호')),
                ('enduser', models.CharField(max_length=50, verbose_name='EndUser')),
                ('reason', models.TextField(blank=True, null=True, verbose_name='사유')),
                ('is_active', models.BooleanField(default=True, verbose_name='활성화')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='생성일시')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='수정일시')),
            ],
            options={
                'verbose_name': 'EndUser 예외',
                'verbose_name_plural': 'EndUser 예외',
            },
        ),
        migrations.CreateModel(
            name='ValveGroup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('group_name', models.CharField(max_length=100, unique=True, verbose_name='그룹명')),
                ('description', models.TextField(blank=True, null=True, verbose_name='설명')),
                ('is_active', models.BooleanField(default=True, verbose_name='활성화')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='생성일시')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='수정일시')),
            ],
            options={
                'verbose_name': '밸브 그룹',
                'verbose_name_plural': '밸브 그룹',
            },
        ),
        migrations.CreateModel(
            name='ValveGroupMapping',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('valve_spec_code', models.CharField(max_length=50, verbose_name='밸브 스펙 코드')),
                ('valve_spec_name', models.CharField(max_length=200, verbose_name='밸브 스펙명')),
                ('is_primary', models.BooleanField(default=False, verbose_name='대표 밸브')),
                ('is_active', models.BooleanField(default=True, verbose_name='활성화')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='생성일시')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='수정일시')),
            ],
            options={
                'verbose_name': '밸브 그룹 매핑',
                'verbose_name_plural': '밸브 그룹 매핑',
            },
        ),
        migrations.DeleteModel(
            name='EndUserPolicy',
        ),
        migrations.DeleteModel(
            name='ValveAlias',
        ),
        migrations.AlterField(
            model_name='translation',
            name='field_type',
            field=models.CharField(choices=[('gas_name', '가스명'), ('valve_spec', '밸브 스펙'), ('cylinder_spec', '용기 스펙'), ('usage_place', '사용처'), ('location', '위치')], help_text='번역할 필드의 타입', max_length=50, verbose_name='필드 타입'),
        ),
        migrations.AddIndex(
            model_name='enduserdefault',
            index=models.Index(fields=['gas_name', 'capacity', 'valve_spec_code', 'cylinder_spec_code'], name='core_enduse_gas_nam_03e2f0_idx'),
        ),
        migrations.AddIndex(
            model_name='enduserdefault',
            index=models.Index(fields=['is_active'], name='core_enduse_is_acti_7ec46d_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='enduserdefault',
            unique_together={('gas_name', 'capacity', 'valve_spec_code', 'cylinder_spec_code')},
        ),
        migrations.AddIndex(
            model_name='enduserexception',
            index=models.Index(fields=['cylinder_no'], name='core_enduse_cylinde_92c679_idx'),
        ),
        migrations.AddIndex(
            model_name='enduserexception',
            index=models.Index(fields=['is_active'], name='core_enduse_is_acti_ce55b1_idx'),
        ),
        migrations.AddField(
            model_name='valvegroupmapping',
            name='group',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mappings', to='core.valvegroup', verbose_name='그룹'),
        ),
        migrations.AddIndex(
            model_name='valvegroupmapping',
            index=models.Index(fields=['valve_spec_code', 'valve_spec_name'], name='core_valveg_valve_s_8a8979_idx'),
        ),
        migrations.AddIndex(
            model_name='valvegroupmapping',
            index=models.Index(fields=['group', 'is_active'], name='core_valveg_group_i_e03651_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='valvegroupmapping',
            unique_together={('valve_spec_code', 'valve_spec_name')},
        ),
    ]
